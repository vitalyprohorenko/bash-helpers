# <img src="/.img/icon_bash.png"/> BASH-Helpers [1th-template]

<br />

## Заготовка для скрипта с минимальной полезной обвязкой

<br />

### Структура скрипта

Код с переменными настроек находится в блоке между комментариями `WORK HEADER`

Код вспомогательных функций размещается в блоке `USER FUNCTIONS`

Код скрипта и основная логика должна помещаться в блок `WORK BODY`

Все интегрированные функции можно вынести в файл `.shlib`

Не забывайте запускать все "опасные" функции через

`$cfgActive && active_function_name || inactive_function_name`

<br />

### Алгоритм работы

- Проверка на импорт в консоли и установка переменной `$dir`
- Переменные конфигурации
- Сообщение помощи для вызова с аргументом `-h`
- Импорт файла с настройками для переписывания некоторых переменных конфигурации
- Подгрузка библиотек `.shlib`
- Вспомогательные функции
  - Функция отображения справки из `$h`
  - Функция для работы с файлом логов
  - Функция для контроля второго запуска
  - Асинхронный таймер
  - Пользовательские функции (пример функции)
- Остановка загрузки скрипта при импорте в консоль
- Разбор аргументов командной строки
- Проверка на запуск второй копии
- Ловушки для прерываний
- Основная логика (пример)
  - Блокировка
  - Пример рабочего кода
  - Снятие блокировки

<br />

### Список версий

------

- <img src="/.img/icon_g.png"/> `burst`

	Добавлен асинхронный таймер, вынесены настройки из функций

- <img src="/.img/icon_y.png"/> `ave` (удалено)

	Первая версия